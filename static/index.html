<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JBG transkribering</title>
    <link rel="shortcut icon" href="#" />
    <script src="/static/javascript/script.js" defer></script>  <!-- External JavaScript -->
    <link rel="stylesheet" href="/static/styles/styles.css">  <!-- External CSS -->
</head>
<body>
    <div id="wrapper">
        <h1>JBG transkribering</h1>
        <h3><em>Obs! Endast .mp3-filer</em></h3>
        
        <!-- File selector -->
        <input type="file" id="audioFile" accept=".mp3,audio/mpeg"> 

        <!-- A spinner that spins while transcribing -->
        <div id="spinner-container">
            <div class="spinner"></div>
        </div>

        <!-- Display checkboxes for OpenAI API call options -->
        <fieldset style="margin-top: 1rem;" id="ai-options">
            <legend><h4>Lägg till AI-baserad analys</h4></legend>
            <label for="apiKey">API-nyckel:</label><br>
            <input type="password" id="apiKey" placeholder="sk-..." style="width: 100%; max-width: 400px;"><br><br>
            <label for="modelSelect">Välj modell:</label><br>
            <select id="modelSelect" style="width: 100%; max-width: 400px;">
                <option value="gpt-4o" selected>gpt-4o</option>
                <option value="gpt-4">gpt-4</option>
                <option value="gpt-4-turbo">gpt-4-turbo</option>
                <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
            </select><br><br>
            <label><input type="checkbox" id="optSummary"> Generera sammanfattning</label>
            <div id="summaryOptions" style="margin-left: 1rem; display: none;">
                <label><input type="radio" name="summaryStyle" value="short" checked> Enkel</label>
                <label><input type="radio" name="summaryStyle" value="extensive"> Utförlig</label>
            </div><br>
            <label><input type="checkbox" id="optSuspicious"> Markera misstänkta fel i transkriberingen</label><br>
            <label><input type="checkbox" id="optQuestions"> Föreslå följdfrågor baserat på innehållet</label><br>
            <label><input type="checkbox" id="optSpeakers"> Identifiera olika talare baserat på innehåll (beta)</label>
        </fieldset>
        
        <!-- Display button for uploading file -->
        <button id="button" onclick="uploadFile()">Ladda upp</button>
        
        <!-- Display upload status -->
        <p id="status"></p>
        
        <!-- Display transcription text -->
        <!-- Scrollable textarea for transcription output -->
        <textarea id="result" readonly></textarea>

        <!-- Download Transcription -->
        <a id="downloadLink" href="#" download>Ladda ner transkriberingen</a>

    </div> <!-- Wrapper -->

</body>
</html>
